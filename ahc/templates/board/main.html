{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}Game Board{% endblock %}</h1>
{% endblock %}

{% block content %}
<div id="column1">
	{% if g.player %}
	<h1>{{g.player["investigator"]["name"]}}</h1>
	<table style="border-collapse: collapse;">
		<tr>
			<td>Sanity</td>
			<td>{{g.player['sanity']}}</td>
			<td><a href="/player/{{g.player['id']}}/sanity/damage">Damage</a></td>
			<td><a href="/player/{{g.player['id']}}/sanity/heal">Heal</a></td>
		</tr>
		<tr>
			<td>Stamina</td>
			<td>{{g.player['stamina']}}</td>
			<td><a href="/player/{{g.player['id']}}/stamina/damage">Damage</a></td>
			<td><a href="/player/{{g.player['id']}}/stamina/heal">Heal</a></td>
		</tr>
		<tr>
			<td>Focus</td>
			<td>{{g.player["focus"]}}</td>
		</tr>
	</table>
	<table style="border-collapse: collapse;">
		<tr>
			<td>Speed</td>
			<td>{{g.player['speed']}}</td>
			<td><a href="/player/{{g.player['id']}}/speed/add">+</a></td>
		</tr>
		<tr>
			<td>Sneak</td>
			<td>
			<td>{{g.player['sneak']}}</td>
			<td><a href="/player/{{g.player['id']}}/sneak/add">+</a></td>
		</tr>
		<tr>
			<td>Fight</td>
			<td>{{g.player['fight']}}</td>
			<td><a href="/player/{{g.player['id']}}/fight/add">+</a></td>
		</tr>
		<tr>
			<td>Will</td>
			<td>{{g.player['will']}}</td>
			<td><a href="/player/{{g.player['id']}}/will/add">+</a></td>
		</tr>
		<tr>
			<td>Lore</td>
			<td>{{g.player['lore']}}</td>
			<td><a href="/player/{{g.player['id']}}/lore/add">+</a></td>
		</tr>
		<tr>
			<td>Luck</td>
			<td>{{g.player['luck']}}</td>
			<td><a href="/player/{{g.player['id']}}/luck/add">+</a></td>
		</tr>
	</table>
	<ul>
		<li>{{g.player["location"]["name"]}}</li>
		<li>
			{% if not g.player["lost"] and not g.player["blocked"] %}Normal
			{% else %}
			{% if g.player["lost"] %}Lost in time and space{% endif %}
			{% if g.player["blocked"] %}Blocked{% endif %}
			{% endif %}
		</li>
	</ul>
	<table style="border-collapse: collapse;">
		<tr>
			<td>Object 1</td>
			<td>use</td>
		</tr>
		<tr>
			<td>Object 2</td>
			<td>use</td>
		</tr>
		<tr>
			<td>Object 3</td>
			<td>use</td>
		</tr>
	</table>
	{% endif %}
</div>
<div id="column2">
	<h1>Mostri</h1>
	<table>
		<tr>
			<th>Mostro</th>
			<th>Luogo</th>
			<th>Fuga</th>
			<th>Terrore [danno]</th>
			<th>Lotta [danno]</th>
		</tr>
		{% for monster in monsters %}
		<tr>
			<td>{{monster["name"]}}</td>
			<td>{{monster["location"]["name"]}}</td>
			<td>{{vs[monster["id"]]["evade"]}}({{monster["evade_check"]}})</td>
			<td>{{vs[monster["id"]]["terror"]}}({{monster["horror_check"]}}) [{{monster["sanity_damage"]}}]</td>
			<td>{{vs[monster["id"]]["combat"]}}({{monster["toughness"]}}) [{{monster["combat_damage"]}}]</td>
		</tr>
		{% endfor %}
	</table>
</div>
<div id="column3">
	<h1>Luoghi</h1>
	<div>
		<h2>Arkham</h2>
		<ul>
			{% for place in locations %}
			{% if not place["outer_world"] %}
				{% if not place["district"] %}
				<li class="street">{{place["name"]}}</li>
				{% else %}
				<li>{{place["name"]}}</li>
				{% endif %}
			{% endif %}
			{% endfor %}
		</ul>
	</div>
	<div>
		<h2>Mondi Esterni</h2>
		<ul>
			{% for place in locations %}
			{% if place["outer_world"] %}
			<li>
				{{place["name"]}}
				<ul>
					<li>Fase 1</li>
					<li>Fase 2</li>
				</ul>
			</li>
			{% endif %}
			{% endfor %}
		</ul>
	</div>
</div>
{% endblock %}
